title: 第二十章 面向服务的架构
author: NEOLIN
date: 2019-10-05 18:54:06
tags:
---
<!-- more -->

面向服务的体系结构（Service-Oriented Architecture,SOA)

- 从应用的角度定义，，可以认为SOA是一种应用框架，它着眼于日常的业务应用，并将它们划分为单独的业务功能和流程，即所谓的服务

- 从软件的基本原理定义，可以认为SOA是一个组件模型，他将应用程序的不同功能单元（服务）通过这些服务间的定义良好的接口和契约联系起来



**BPEL(Business Process Execution Language For Web Service 面向web服务的业务流程语言) ：可将多个web服务组合到一个复合服务中**

**SOAP(Simple Object Access Protocal 简单对象访问协议)：为建立web服务和服务之间的请求之间的通信提供支持**

SOAP是分散或分布式环境中交换信息的简单协议，是一个基于xml的协议，它包括四个部分：**SOAP封装**，定义了一个描述消息中的内容是什么，是谁发送的，谁应当接受并处理它以及如何处理他们的框架；**SOAP编码规则**，用于表示应用程序需要使用的数据类型的实例；**SOAP RPC**表示远程过程调用和应答的协定；**SOAP绑定**，使用底层协议交换信息

SOAP的两个主要设计目标是**简单性和可扩展性**

**WSDL(Web Service Description Language web服务描述语言) ：用于描述web服务的接口和操作功能**

WSDL描述了web服务的三个基本属性：

- 服务做些什么--服务提供的操作（方法）
- 如何访问服务--和服务交互的数据格式以及必要的协议。
- 服务位于何处--协议相关的地址，如url



**UDDI(Universal Discovery Description and Integration 通用服务发现和集成协议)：可用于web服务的注册与发现**

#### 20.7 SOA设计原则

结构上，服务总线是SOA的架构模式之一

关于服务，设计原则如下：

- 无状态
- 单一实例
- 明确定义的接口

##### 20.8.1 服务注册表模式

##### 20.8.2 企业服务总线模式（ESB）

ESB的本质上是以中间件的形式支持服务单元之间进行交互的软件平台

其核心功能如下

- 提供位置透明的消息路由和寻址服务
- 提供服务注册和命名的管理功能
- 支持多种消息传递泛型（如请求、响应 发布、订阅等）
- 支持多种可以广泛使用的传输协议
- 支持多种数据格式及其相互转换
- 提供日志和监控功能